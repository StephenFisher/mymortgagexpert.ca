<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Land Transfer Tax Calculator — MyMortgageExpert</title>
  <link rel="stylesheet" href="../styles.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Manrope:wght@800&family=Playfair+Display:ital,wght@1,600;1,700&display=swap" rel="stylesheet">
</head>
<body>

  <!-- ======= NAV BAR ======= -->
  <header class="navbar" id="navbar">
    <div class="container navbar__inner">
      <a href="/" class="navbar__logo">
        <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
          <rect width="32" height="32" rx="7" fill="#1B3C2D"/>
          <path d="M7 23V13l9-5.5 9 5.5v10H7z" fill="#2A7D5B"/>
          <rect x="12.5" y="16.5" width="7" height="6.5" rx="1" fill="#F7F3EE"/>
        </svg>
        <span>MyMortgageExpert</span>
      </a>
      <nav class="navbar__links" id="navLinks">
        <div class="navbar__dropdown">
          <button class="navbar__dropdown-toggle">Calculators <svg width="10" height="6" viewBox="0 0 10 6" fill="none"><path d="M1 1l4 4 4-4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg></button>
          <div class="navbar__dropdown-menu">
            <a href="/calculators/heloc.html">HELOC Calculator</a>
            <a href="/calculators/refinance.html">Refinance Calculator</a>
            <a href="/calculators/renewal.html">Renewal Calculator</a>
            <a href="/calculators/home-equity-loan.html">Home Equity Loan Calculator</a>
            <a href="/calculators/self-employed.html">Self-Employed Calculator</a>
            <a href="/calculators/land-transfer-tax.html">Land Transfer Tax Calculator</a>
            <a href="/calculators/closing-costs.html">Closing Costs Calculator</a>
          </div>
        </div>
        <a href="/#rates">Mortgages</a>
        <a href="/#lenders">Lenders</a>
        <a href="/#about">About</a>
        <a href="tel:18445002535" class="navbar__mobile-phone">1-844-500-2535</a>
        <a href="#" class="btn btn--primary navbar__mobile-cta open-modal">Get Pre-Approved</a>
      </nav>
      <div class="navbar__right">
        <a href="tel:18445002535" class="navbar__phone">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
            <path d="M14.67 11.44l-2.18-.93a1 1 0 00-1.05.18l-1.2 1.07a10.5 10.5 0 01-4.9-4.9l1.07-1.2a1 1 0 00.18-1.05l-.93-2.18A1 1 0 004.6 1.5H2.5A1 1 0 001.5 2.6 13 13 0 0013.4 14.5a1 1 0 001.1-1h-2.1a1 1 0 00-1.06-.93z" stroke="#1B3C2D" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          1-844-500-2535
        </a>
        <a href="#" class="btn btn--primary navbar__cta open-modal">Get Pre-Approved</a>
      </div>
      <button class="navbar__hamburger" id="hamburger" aria-label="Toggle menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </header>

  <!-- ======= LAND TRANSFER TAX CALCULATOR ======= -->
  <section class="heloc">
    <div class="container">
      <div class="heloc__nav">
        <a href="/" class="heloc__back">&larr; Back to Home</a>
      </div>

      <div class="heloc__header">
        <span class="heloc__tag">CALCULATOR</span>
        <h1 class="heloc__title">Land Transfer Tax Calculator</h1>
        <p class="heloc__subtitle">Estimate the Ontario provincial and Toronto municipal land transfer tax on your home purchase, including first-time buyer rebates.</p>
      </div>

      <div class="heloc__layout">
        <!-- LEFT: Input Form -->
        <div class="heloc__form-card">
          <h3 class="heloc__form-title">Your Purchase Details</h3>
          <div class="heloc__form">
            <div class="form-group">
              <label for="lttPrice">Purchase Price</label>
              <input type="text" id="lttPrice" value="" placeholder="$500,000" inputmode="numeric">
              <span class="heloc__helper">Enter the purchase price of the property</span>
            </div>
            <div class="form-group">
              <label>Property Location</label>
              <div class="heloc__toggle" id="lttLocationToggle">
                <button type="button" class="heloc__toggle-btn active" data-value="ontario">Ontario</button>
                <button type="button" class="heloc__toggle-btn" data-value="toronto">Toronto</button>
              </div>
              <span class="heloc__helper">Toronto purchases are subject to an additional municipal tax</span>
            </div>
            <div class="form-group">
              <label>Are You a First-Time Home Buyer?</label>
              <div class="heloc__toggle" id="lttFthbToggle">
                <button type="button" class="heloc__toggle-btn active" data-value="no">No</button>
                <button type="button" class="heloc__toggle-btn" data-value="yes">Yes</button>
              </div>
              <span class="heloc__helper">First-time buyers may qualify for rebates up to $4,000 (provincial) and $4,475 (Toronto)</span>
            </div>
          </div>
        </div>

        <!-- RIGHT: Results Card -->
        <div class="heloc__results-card" id="lttResults">
          <div class="heloc__results-inner">
          <h3 class="heloc__results-title">Your Land Transfer Tax</h3>

          <div class="heloc__result-row">
            <span class="heloc__result-label">Ontario Provincial LTT</span>
            <span class="heloc__result-value" id="resultProvincial">$0</span>
          </div>
          <div class="heloc__result-divider"></div>

          <!-- Toronto municipal row (hidden by default) -->
          <div id="lttTorontoRow" style="display:none;">
            <div class="heloc__result-row">
              <span class="heloc__result-label">Toronto Municipal LTT</span>
              <span class="heloc__result-value" id="resultMunicipal">$0</span>
            </div>
            <div class="heloc__result-divider"></div>
          </div>

          <!-- Rebate rows (hidden by default) -->
          <div id="lttRebateRows" style="display:none;">
            <div class="heloc__result-row">
              <span class="heloc__result-label">Provincial FTHB Rebate</span>
              <span class="heloc__result-value heloc__result-value--savings" id="resultProvRebate">-$0</span>
            </div>
            <div class="heloc__result-divider"></div>
            <div id="lttMuniRebateRow" style="display:none;">
              <div class="heloc__result-row">
                <span class="heloc__result-label">Toronto FTHB Rebate</span>
                <span class="heloc__result-value heloc__result-value--savings" id="resultMuniRebate">-$0</span>
              </div>
              <div class="heloc__result-divider"></div>
            </div>
          </div>

          <div class="heloc__result-row">
            <span class="heloc__result-label">Total Land Transfer Tax</span>
            <span class="heloc__result-value heloc__result-value--highlight" id="resultTotal">$0</span>
          </div>

          <a href="#" class="btn btn--white btn--large heloc__results-cta open-modal">Speak to a Specialist</a>
          <p class="heloc__results-disclosure">These numbers represent a non-binding estimate based on current Ontario and Toronto tax brackets. Consult a lawyer for exact amounts.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ======= EDUCATIONAL CONTENT ======= -->
  <section class="heloc-info">
    <div class="container heloc-info__container">
      <div class="heloc-info__body">
        <h2>What Is Land Transfer Tax?</h2>
        <p>Land transfer tax (LTT) is a provincial tax paid by the buyer when purchasing property in Ontario. It is calculated as a percentage of the purchase price using a marginal bracket system — similar to income tax. The more expensive the property, the higher the effective rate.</p>

        <h2>Ontario Land Transfer Tax Brackets</h2>
        <p>The current Ontario LTT rates for residential property are:</p>
        <ul>
          <li><strong>First $55,000:</strong> 0.5%</li>
          <li><strong>$55,001 to $250,000:</strong> 1.0%</li>
          <li><strong>$250,001 to $400,000:</strong> 1.5%</li>
          <li><strong>$400,001 to $2,000,000:</strong> 2.0%</li>
          <li><strong>Over $2,000,000:</strong> 2.5% (single-family residential)</li>
        </ul>

        <h2>Toronto Municipal Land Transfer Tax</h2>
        <p>If you're buying property in Toronto, you'll pay an additional municipal land transfer tax on top of the provincial tax. Toronto's MLTT brackets mirror the provincial rates up to $2,000,000, with higher rates above that threshold. This means Toronto buyers effectively pay double the land transfer tax compared to other Ontario municipalities.</p>

        <h2>First-Time Home Buyer Rebates</h2>
        <p>First-time home buyers in Ontario can claim rebates to reduce or eliminate their land transfer tax:</p>
        <ul>
          <li><strong>Ontario provincial rebate:</strong> Up to $4,000, covering the full LTT on homes up to $368,000.</li>
          <li><strong>Toronto municipal rebate:</strong> Up to $4,475, covering the full MLTT on homes up to $400,000.</li>
        </ul>
        <p>To qualify, you must be at least 18 years old, a Canadian citizen or permanent resident, and must never have owned a home anywhere in the world. The property must be your principal residence within 9 months of purchase.</p>

        <div class="article__cta-box">
          <h3>Buying your first home?</h3>
          <p>Speak with a licensed mortgage specialist who can walk you through all the costs of buying a home, including land transfer tax, closing costs, and CMHC insurance.</p>
          <a href="#" class="btn btn--primary btn--large open-modal">Speak to a Specialist</a>
        </div>
      </div>
    </div>
  </section>

  <!-- ======= FOOTER ======= -->
  <footer class="footer">
    <div class="container footer__inner">
      <div class="footer__top">
        <div class="footer__brand">
          <a href="/" class="navbar__logo">
            <svg width="28" height="28" viewBox="0 0 32 32" fill="none">
              <rect width="32" height="32" rx="7" fill="#2A7D5B"/>
              <path d="M7 23V13l9-5.5 9 5.5v10H7z" fill="#1B3C2D"/>
              <rect x="12.5" y="16.5" width="7" height="6.5" rx="1" fill="#F7F3EE"/>
            </svg>
            <span>MyMortgageExpert</span>
          </a>
          <p class="footer__tagline">Helping Canadians find the best mortgage rates since 2019.</p>
        </div>
        <div class="footer__links">
          <div class="footer__col">
            <h4>About</h4>
            <a href="#">Our Story</a>
            <a href="#">How It Works</a>
            <a href="#">Careers</a>
            <a href="#">Contact</a>
          </div>
          <div class="footer__col">
            <h4>Resources</h4>
            <a href="#">Mortgage Guides</a>
            <a href="#">Blog</a>
            <a href="#">FAQ</a>
            <a href="#">Glossary</a>
          </div>
          <div class="footer__col">
            <h4>Calculators</h4>
            <a href="#">Payment Calculator</a>
            <a href="#">Affordability</a>
            <a href="#">Land Transfer Tax</a>
            <a href="#">CMHC Insurance</a>
          </div>
          <div class="footer__col">
            <h4>Legal</h4>
            <a href="#">Privacy Policy</a>
            <a href="#">Terms of Service</a>
            <a href="#">Accessibility</a>
            <a href="#">Disclaimer</a>
          </div>
        </div>
      </div>
      <div class="footer__bottom">
        <p>&copy; 2026 MyMortgageExpert. All rights reserved.</p>
        <div class="footer__legal">
          <a href="#">Privacy Policy</a>
          <a href="#">Terms of Service</a>
        </div>
      </div>
    </div>
  </footer>

  <!-- ======= PRE-APPROVAL MODAL ======= -->
  <div class="modal-overlay" id="preApprovalModal">
    <div class="modal">
      <button class="modal__close" id="modalClose" aria-label="Close">&times;</button>
      <h2 class="modal__title">Get Pre-Approved</h2>
      <p class="modal__subtitle">Fill in your details and we'll connect you with a licensed mortgage broker.</p>
      <form class="modal__form" id="preApprovalForm">
        <div class="modal__row">
          <div class="form-group">
            <label for="firstName">First Name</label>
            <input type="text" id="firstName" placeholder="First Name" required>
          </div>
          <div class="form-group">
            <label for="lastName">Last Name</label>
            <input type="text" id="lastName" placeholder="Last Name" required>
          </div>
        </div>
        <div class="form-group">
          <label for="phone">Phone Number</label>
          <input type="tel" id="phone" placeholder="(555) 555-5555" required>
        </div>
        <div class="form-group">
          <label for="email">Email</label>
          <input type="email" id="email" placeholder="you@example.com" required>
        </div>
        <button type="submit" class="btn btn--primary btn--large modal__submit">Find Your Broker</button>
      </form>
      <p class="modal__disclosure">By providing your contact information, you authorize the broker to contact you about your inquiry. MyMortgageExpert does not provide any mortgage services and is not responsible for any services offered by the broker.</p>
    </div>
  </div>

  <script>
    // ===========================
    // Mobile Menu
    // ===========================
    const hamburger = document.getElementById('hamburger');
    const navLinks = document.getElementById('navLinks');
    hamburger.addEventListener('click', () => {
      hamburger.classList.toggle('active');
      navLinks.classList.toggle('active');
    });
    navLinks.querySelectorAll('a').forEach(link => {
      link.addEventListener('click', () => {
        hamburger.classList.remove('active');
        navLinks.classList.remove('active');
      });
    });

    // ===========================
    // Pre-Approval Modal
    // ===========================
    const modal = document.getElementById('preApprovalModal');
    const modalClose = document.getElementById('modalClose');
    const preApprovalForm = document.getElementById('preApprovalForm');

    document.querySelectorAll('.open-modal').forEach(btn => {
      btn.onclick = function(e) {
        e.preventDefault();
        e.stopPropagation();
        modal.classList.add('active');
        document.body.style.overflow = 'hidden';
        return false;
      };
    });

    modalClose.addEventListener('click', () => {
      modal.classList.remove('active');
      document.body.style.overflow = '';
    });

    modal.addEventListener('click', (e) => {
      if (e.target === modal) {
        modal.classList.remove('active');
        document.body.style.overflow = '';
      }
    });

    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && modal.classList.contains('active')) {
        modal.classList.remove('active');
        document.body.style.overflow = '';
      }
    });

    var broker = {
      name: 'Lighthouse Lending',
      phone: '905-234-3323',
      phoneTel: '19052343323',
      licence: 'FSRA# 13301',
      logo: '../lighthouse-lending-logo.png'
    };

    preApprovalForm.addEventListener('submit', (e) => {
      e.preventDefault();
      const firstName = document.getElementById('firstName').value;
      const modalEl = document.querySelector('.modal');
      modalEl.innerHTML = '<button class="modal__close" id="modalCloseLoading" aria-label="Close">&times;</button>' +
        '<div class="help-loading">' +
          '<div class="help-loading__spinner"></div>' +
          '<h2 class="help-loading__text">Pairing you with the best Broker</h2>' +
        '</div>';
      document.getElementById('modalCloseLoading').addEventListener('click', () => {
        modal.classList.remove('active');
        document.body.style.overflow = '';
      });
      setTimeout(() => {
        modalEl.innerHTML = '<button class="modal__close" id="modalCloseResult" aria-label="Close">&times;</button>' +
          '<div class="broker-result">' +
            '<h2 class="broker-result__heading">You\'ve Been Matched!</h2>' +
            '<p class="broker-result__subtext">' + firstName + ', here is your matched broker:</p>' +
            '<img class="broker-result__logo" src="' + broker.logo + '" alt="' + broker.name + '">' +
            '<h3 class="broker-result__name">' + broker.name + '</h3>' +
            '<div class="broker-result__info">' +
              '<span>' + broker.phone + '</span>' +
              '<span>' + broker.licence + '</span>' +
            '</div>' +
            '<a href="tel:' + broker.phoneTel + '" class="btn btn--primary btn--large broker-result__cta">Call Now</a>' +
          '</div>';
        document.getElementById('modalCloseResult').addEventListener('click', () => {
          modal.classList.remove('active');
          document.body.style.overflow = '';
        });
      }, 3000);
    });

    // Navbar scroll shadow
    const navbar = document.getElementById('navbar');
    window.addEventListener('scroll', () => {
      navbar.style.boxShadow = window.scrollY > 10 ? '0 2px 16px rgba(0,0,0,0.06)' : 'none';
    });

    // ===========================
    // Land Transfer Tax Calculator
    // ===========================
    const priceInput = document.getElementById('lttPrice');
    const locationToggle = document.getElementById('lttLocationToggle');
    const fthbToggle = document.getElementById('lttFthbToggle');

    const torontoRow = document.getElementById('lttTorontoRow');
    const rebateRows = document.getElementById('lttRebateRows');
    const muniRebateRow = document.getElementById('lttMuniRebateRow');

    const resultProvincial = document.getElementById('resultProvincial');
    const resultMunicipal = document.getElementById('resultMunicipal');
    const resultProvRebate = document.getElementById('resultProvRebate');
    const resultMuniRebate = document.getElementById('resultMuniRebate');
    const resultTotal = document.getElementById('resultTotal');

    let isToronto = false;
    let isFthb = false;

    function formatCurrency(value) {
      return '$' + Math.round(value).toLocaleString('en-CA');
    }

    function parseCurrency(str) {
      return Number(str.replace(/[^0-9]/g, '')) || 0;
    }

    // Currency formatting on input
    priceInput.addEventListener('input', function() {
      const raw = this.value.replace(/[^0-9]/g, '');
      if (raw === '') { this.value = ''; calculate(); return; }
      this.value = '$' + Number(raw).toLocaleString('en-CA');
      calculate();
    });

    // Location toggle
    locationToggle.addEventListener('click', function(e) {
      const btn = e.target.closest('.heloc__toggle-btn');
      if (!btn) return;
      locationToggle.querySelectorAll('.heloc__toggle-btn').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      isToronto = btn.dataset.value === 'toronto';
      torontoRow.style.display = isToronto ? '' : 'none';
      muniRebateRow.style.display = (isToronto && isFthb) ? '' : 'none';
      calculate();
    });

    // FTHB toggle
    fthbToggle.addEventListener('click', function(e) {
      const btn = e.target.closest('.heloc__toggle-btn');
      if (!btn) return;
      fthbToggle.querySelectorAll('.heloc__toggle-btn').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      isFthb = btn.dataset.value === 'yes';
      rebateRows.style.display = isFthb ? '' : 'none';
      muniRebateRow.style.display = (isToronto && isFthb) ? '' : 'none';
      calculate();
    });

    // Ontario Provincial LTT (marginal brackets)
    function calcOntarioLTT(price) {
      let tax = 0;
      if (price <= 55000) {
        tax = price * 0.005;
      } else if (price <= 250000) {
        tax = 55000 * 0.005 + (price - 55000) * 0.01;
      } else if (price <= 400000) {
        tax = 55000 * 0.005 + 195000 * 0.01 + (price - 250000) * 0.015;
      } else if (price <= 2000000) {
        tax = 55000 * 0.005 + 195000 * 0.01 + 150000 * 0.015 + (price - 400000) * 0.02;
      } else {
        tax = 55000 * 0.005 + 195000 * 0.01 + 150000 * 0.015 + 1600000 * 0.02 + (price - 2000000) * 0.025;
      }
      return tax;
    }

    // Toronto Municipal LTT (marginal brackets, single-family residential)
    function calcTorontoMLTT(price) {
      let tax = 0;
      if (price <= 55000) {
        tax = price * 0.005;
      } else if (price <= 250000) {
        tax = 55000 * 0.005 + (price - 55000) * 0.01;
      } else if (price <= 400000) {
        tax = 55000 * 0.005 + 195000 * 0.01 + (price - 250000) * 0.015;
      } else if (price <= 2000000) {
        tax = 55000 * 0.005 + 195000 * 0.01 + 150000 * 0.015 + (price - 400000) * 0.02;
      } else {
        tax = 55000 * 0.005 + 195000 * 0.01 + 150000 * 0.015 + 1600000 * 0.02 + (price - 2000000) * 0.025;
      }
      return tax;
    }

    function calculate() {
      const price = parseCurrency(priceInput.value);

      const provincialLTT = calcOntarioLTT(price);
      const municipalLTT = isToronto ? calcTorontoMLTT(price) : 0;

      // Provincial FTHB rebate: up to $4,000
      const provRebate = isFthb ? Math.min(provincialLTT, 4000) : 0;
      // Toronto FTHB rebate: up to $4,475
      const muniRebate = (isFthb && isToronto) ? Math.min(municipalLTT, 4475) : 0;

      const total = Math.max(0, provincialLTT + municipalLTT - provRebate - muniRebate);

      resultProvincial.textContent = formatCurrency(provincialLTT);
      resultMunicipal.textContent = formatCurrency(municipalLTT);
      resultProvRebate.textContent = '-' + formatCurrency(provRebate);
      resultMuniRebate.textContent = '-' + formatCurrency(muniRebate);
      resultTotal.textContent = formatCurrency(total);
    }

    calculate();
  </script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="../supabase-config.js"></script>
  <script>
    (async function() {
      const b = await fetchBroker();
      if (b) { broker.name = b.name; broker.phone = b.phone; broker.phoneTel = b.phoneTel; broker.licence = b.licence; broker.logo = '../' + b.logo; }
    })();
  </script>
</body>
</html>
